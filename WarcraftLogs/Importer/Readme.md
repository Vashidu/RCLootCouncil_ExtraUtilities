# WarcraftLogs Importer

Imports and formats specific percentile stats from Warcraftlogs.com for each spec for each boss to use as a score for comparing performances.


## Dependencies
* JRE 7 (older version might also work)
* [LuaMatrix](http://lua-users.org/wiki/LuaMatrix)
* A few other standard lua libraries.


## Usage
To update the data simply run [Build.lua](Build.lua). That's it (the first line might need to be uncommented first).

## Details
### LogsParser.jar
Issues a https get request to Warcraftlogs, processes the data, and saves it as lua files in the output folder. Each subclass (dps, healer, tank) gets it's own folder, and one lua file is generated for each boss processed.

The .jar file is executable, but use a terminal to set arguments and see console logs.

arg | subarg | description
----|--------|------------
-debug *(-d)*  | *none* | Turns on debugging, showing more details about what's happening.
-per| 0 - 100| Sets the percentile to receive logs for. Defaults to 99.
-raid *(-r)* | Antorus/ToS | Selects raid. Note: Only Antorus is fully supported atm.
-difficulty *(-dif)* | string | Chooses the difficulty to parse. Mythic/Heroic/Normal/LFR is available.

Example:  
`java -jar LogsParser.jar -d -dif 100`  
Runs the parser in debug mode with the percentile set to 100.


### Build.lua
The first line runs the above LogsParser, but they can of course be run separately.

#### BuildLuaTable
Combines and reformats the tables generated by the parser for further usage.
It takes the raid folder as an required parameter for switching between raids and difficulties (although heroic provides the largest amount of useful data).

#### GenerateFunctions
Creates a linear approximation function (using SimpleFit) for dps per ilvl, which is then formatted as lua functions, which is finally saved for usage within ExtraUtilities.
The generated functions are also tested for their accuracy (further enhanced through debugging). By default any logs with less than 15 parses are discarded to ensure accuracy (the average error rate is usually below 0.15%).  
GenerateFunctions takes an optional debug boolean (defaults to `false`), which shows a more detailed log of the discards and tests.
